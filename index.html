<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bom Dia Generator ‚òÄÔ∏è</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sunrise-gold: #FFB347;
            --warm-orange: #FF8C42;
            --soft-coral: #FF6B6B;
            --sky-blue: #87CEEB;
            --morning-pink: #FFB5C5;
            --cream: #FFF8E7;
            --deep-brown: #5D4037;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, 
                var(--morning-pink) 0%, 
                var(--sunrise-gold) 25%, 
                var(--warm-orange) 50%, 
                var(--sky-blue) 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 3.5rem;
            color: var(--cream);
            text-shadow: 3px 3px 6px rgba(93, 64, 55, 0.4);
            margin-bottom: 0.5rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--deep-brown);
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .sun-icon {
            font-size: 4rem;
            animation: spin 20s linear infinite, pulse 2s ease-in-out infinite;
            display: inline-block;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .generate-btn {
            background: linear-gradient(135deg, var(--warm-orange), var(--soft-coral));
            border: none;
            padding: 1rem 3rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            font-family: 'Nunito', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .generate-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .generate-btn:hover::before {
            left: 100%;
        }

        .generate-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.5);
        }

        .generate-btn:active {
            transform: translateY(0) scale(0.98);
        }

        .generate-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .image-container {
            margin-top: 2rem;
            background: white;
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 20px 60px rgba(93, 64, 55, 0.2);
            display: none;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .image-container.visible {
            display: block;
        }

        #resultCanvas {
            max-width: 100%;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .copy-btn {
            margin-top: 1.5rem;
            background: linear-gradient(135deg, var(--sky-blue), #5BA3C6);
            border: none;
            padding: 0.8rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(91, 163, 198, 0.4);
            font-family: 'Nunito', sans-serif;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(91, 163, 198, 0.5);
        }

        .copy-btn.copied {
            background: linear-gradient(135deg, #4CAF50, #45a049);
        }

        .loading {
            display: none;
            margin-top: 2rem;
        }

        .loading.visible {
            display: block;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid var(--cream);
            border-top: 5px solid var(--warm-orange);
            border-radius: 50%;
            animation: spinLoader 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spinLoader {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--deep-brown);
            font-weight: 600;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: none;
        }

        .error-message.visible {
            display: block;
        }

        .credits {
            margin-top: 2rem;
            font-size: 0.85rem;
            color: var(--deep-brown);
            opacity: 0.7;
        }

        .credits a {
            color: var(--deep-brown);
        }

        .footer {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(93, 64, 55, 0.2);
            font-size: 0.9rem;
            color: var(--deep-brown);
            font-weight: 600;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--deep-brown);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* Mood selector */
        .mood-selector {
            margin-bottom: 1.5rem;
        }

        .mood-label {
            display: block;
            font-weight: 600;
            color: var(--deep-brown);
            margin-bottom: 0.75rem;
            font-size: 1rem;
        }

        .mood-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
        }

        .mood-btn {
            background: rgba(255, 255, 255, 0.85);
            border: 2px solid transparent;
            padding: 0.5rem 1rem;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--deep-brown);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Nunito', sans-serif;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .mood-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .mood-btn.active {
            background: var(--warm-orange);
            color: white;
            border-color: var(--soft-coral);
            box-shadow: 0 4px 15px rgba(255, 140, 66, 0.4);
        }

        .mood-btn .emoji {
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sun-icon">‚òÄÔ∏è</div>
        <h1>Bom Dia!</h1>
        <p class="subtitle">Generate beautiful morning greetings to share with friends</p>
        
        <div class="mood-selector">
            <span class="mood-label">Choose your mood:</span>
            <div class="mood-buttons">
                <button class="mood-btn active" data-mood="random" onclick="selectMood('random')">
                    <span class="emoji">üé≤</span> Random
                </button>
                <button class="mood-btn" data-mood="coffee" onclick="selectMood('coffee')">
                    <span class="emoji">‚òï</span> Coffee
                </button>
                <button class="mood-btn" data-mood="cat" onclick="selectMood('cat')">
                    <span class="emoji">üê±</span> Cat
                </button>
                <button class="mood-btn" data-mood="dog" onclick="selectMood('dog')">
                    <span class="emoji">üêï</span> Dog
                </button>
                <button class="mood-btn" data-mood="fun" onclick="selectMood('fun')">
                    <span class="emoji">üéâ</span> Fun
                </button>
                <button class="mood-btn" data-mood="nature" onclick="selectMood('nature')">
                    <span class="emoji">üåø</span> Nature
                </button>
            </div>
        </div>

        <button class="generate-btn" id="generateBtn" onclick="generateImage()">
            ‚ú® Generate Image
        </button>

        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p class="loading-text">Finding the perfect sunrise...</p>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="image-container" id="imageContainer">
            <canvas id="resultCanvas"></canvas>
            <br>
            <button class="copy-btn" id="copyBtn" onclick="copyImage()">
                üìã Copy Image
            </button>
        </div>

        <p class="credits">
            Images from <a href="https://picsum.photos" target="_blank">Lorem Picsum</a>
        </p>

        <footer class="footer">
            ¬© 2025. Created with Cursor AI, for all the positive team.blue people.
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Current selected mood
        let currentMood = 'random';

        // Very specific search terms for accurate results
        const moodSearchTerms = {
            coffee: ['coffee cup on table', 'latte art coffee', 'espresso shot', 'morning coffee mug', 'coffee beans roasted'],
            cat: ['domestic cat face', 'cute kitten playing', 'cat sleeping cozy', 'tabby cat portrait', 'fluffy cat'],
            dog: ['golden retriever happy', 'puppy dog cute', 'dog playing fetch', 'labrador portrait', 'corgi dog'],
            fun: ['birthday party balloons', 'colorful confetti celebration', 'friends laughing happy', 'festival crowd', 'sparklers celebration'],
            nature: ['mountain sunrise landscape', 'ocean waves beach', 'green forest path', 'wildflower meadow', 'lake reflection mountains'],
            random: ['coffee morning', 'cute cat', 'happy dog', 'sunrise nature', 'celebration party']
        };

        function selectMood(mood) {
            currentMood = mood;
            // Update button states
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.mood === mood);
            });
        }

        async function fetchRandomImage() {
            const terms = moodSearchTerms[currentMood];
            const searchTerm = terms[Math.floor(Math.random() * terms.length)];
            
            // Use Dog CEO API for dogs (free, no key, CORS-enabled)
            if (currentMood === 'dog') {
                const response = await fetch('https://dog.ceo/api/breeds/image/random');
                const data = await response.json();
                return data.message;
            }
            
            // Use Cat API for cats (free, no key, CORS-enabled)
            if (currentMood === 'cat') {
                const response = await fetch('https://api.thecatapi.com/v1/images/search?limit=1');
                const data = await response.json();
                return data[0].url;
            }
            
            // Use Coffee API for coffee images
            if (currentMood === 'coffee') {
                const timestamp = Date.now();
                return `https://coffee.alexflipnote.dev/random?t=${timestamp}`;
            }
            
            // For nature, fun, and random - use curated Unsplash direct URLs with variety
            const timestamp = Date.now();
            const random = Math.floor(Math.random() * 1000);
            
            if (currentMood === 'nature') {
                // Picsum has good nature/landscape images
                const natureIds = [10, 11, 14, 15, 16, 17, 18, 19, 20, 21, 22, 24, 27, 28, 29, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 47, 48, 49, 50, 51, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 69, 71, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100];
                const id = natureIds[Math.floor(Math.random() * natureIds.length)];
                return `https://picsum.photos/id/${id}/800/600`;
            }
            
            if (currentMood === 'fun') {
                // Colorful/fun images from Picsum
                const funIds = [225, 227, 230, 231, 232, 233, 234, 235, 236, 238, 239, 240, 241, 242, 243, 244, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260];
                const id = funIds[Math.floor(Math.random() * funIds.length)];
                return `https://picsum.photos/id/${id}/800/600`;
            }
            
            // Random mode - mix of everything
            const apis = ['dog', 'cat', 'coffee', 'nature', 'fun'];
            const randomMood = apis[Math.floor(Math.random() * apis.length)];
            const originalMood = currentMood;
            currentMood = randomMood;
            const url = await fetchRandomImage();
            currentMood = originalMood;
            return url;
        }

        // Text style configurations
        const textStyles = [
            {
                name: 'Golden Sunrise',
                position: 'center',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#FFD700', '#FFF8DC', '#FFD700'],
                    shadow: 'rgba(255, 215, 0, 0.5)',
                    outline: 'rgba(0, 0, 0, 0.5)'
                })
            },
            {
                name: 'Ocean Blue',
                position: 'bottom',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#00CED1', '#E0FFFF', '#00CED1'],
                    shadow: 'rgba(0, 206, 209, 0.6)',
                    outline: 'rgba(0, 50, 80, 0.6)'
                })
            },
            {
                name: 'Rose Pink',
                position: 'center',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#FF69B4', '#FFB6C1', '#FF69B4'],
                    shadow: 'rgba(255, 105, 180, 0.5)',
                    outline: 'rgba(80, 20, 50, 0.5)'
                })
            },
            {
                name: 'Pure White',
                position: 'bottom',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#FFFFFF', '#F0F0F0', '#FFFFFF'],
                    shadow: 'rgba(255, 255, 255, 0.8)',
                    outline: 'rgba(0, 0, 0, 0.7)'
                })
            },
            {
                name: 'Sunset Orange',
                position: 'center',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#FF6347', '#FFA07A', '#FF6347'],
                    shadow: 'rgba(255, 99, 71, 0.6)',
                    outline: 'rgba(50, 20, 10, 0.6)'
                })
            },
            {
                name: 'Mint Fresh',
                position: 'bottom',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#98FB98', '#F0FFF0', '#98FB98'],
                    shadow: 'rgba(152, 251, 152, 0.6)',
                    outline: 'rgba(20, 60, 20, 0.6)'
                })
            },
            {
                name: 'Royal Purple',
                position: 'center',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#9370DB', '#E6E6FA', '#9370DB'],
                    shadow: 'rgba(147, 112, 219, 0.6)',
                    outline: 'rgba(40, 20, 60, 0.6)'
                })
            },
            {
                name: 'Warm Coral',
                position: 'bottom',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#FF7F50', '#FFDAB9', '#FF7F50'],
                    shadow: 'rgba(255, 127, 80, 0.6)',
                    outline: 'rgba(60, 30, 20, 0.6)'
                })
            },
            {
                name: 'Sky Cyan',
                position: 'center',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#87CEEB', '#F0FFFF', '#87CEEB'],
                    shadow: 'rgba(135, 206, 235, 0.6)',
                    outline: 'rgba(20, 40, 60, 0.6)'
                })
            },
            {
                name: 'Lemon Yellow',
                position: 'bottom',
                font: 'Pacifico',
                getColors: () => ({
                    gradient: ['#FFFF00', '#FFFACD', '#FFFF00'],
                    shadow: 'rgba(255, 255, 0, 0.6)',
                    outline: 'rgba(60, 60, 0, 0.7)'
                })
            }
        ];

        function getRandomStyle() {
            return textStyles[Math.floor(Math.random() * textStyles.length)];
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('visible');
            setTimeout(() => toast.classList.remove('visible'), 3000);
        }

        function setLoading(isLoading) {
            const btn = document.getElementById('generateBtn');
            const loading = document.getElementById('loading');
            const imageContainer = document.getElementById('imageContainer');
            const errorMessage = document.getElementById('errorMessage');

            btn.disabled = isLoading;
            btn.textContent = isLoading ? '‚è≥ Generating...' : '‚ú® Generate Image';
            loading.classList.toggle('visible', isLoading);
            
            if (isLoading) {
                imageContainer.classList.remove('visible');
                errorMessage.classList.remove('visible');
            }
        }

        function showError(message) {
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.textContent = message;
            errorMessage.classList.add('visible');
        }

        async function generateImage() {
            setLoading(true);

            try {
                // Fetch random image from Pexels via CORS proxy
                const imageUrl = await fetchRandomImage();

                // Load the image
                const img = new Image();
                img.crossOrigin = 'anonymous';
                
                await new Promise((resolve, reject) => {
                    img.onload = resolve;
                    img.onerror = () => reject(new Error('Failed to load image'));
                    img.src = imageUrl;
                });

                // Create canvas and draw image with text
                const canvas = document.getElementById('resultCanvas');
                const ctx = canvas.getContext('2d');

                // Set canvas size to match image
                canvas.width = img.width;
                canvas.height = img.height;

                // Draw the image
                ctx.drawImage(img, 0, 0);

                // Get random text style
                const style = getRandomStyle();
                const colors = style.getColors();

                // Add gradient overlay based on text position
                const overlayGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                if (style.position === 'bottom') {
                    overlayGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(0.5, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(0.8, 'rgba(0, 0, 0, 0.2)');
                    overlayGradient.addColorStop(1, 'rgba(0, 0, 0, 0.5)');
                } else {
                    overlayGradient.addColorStop(0, 'rgba(0, 0, 0, 0.1)');
                    overlayGradient.addColorStop(0.4, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(0.6, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(1, 'rgba(0, 0, 0, 0.2)');
                }
                ctx.fillStyle = overlayGradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Configure text style
                const fontSize = Math.min(canvas.width, canvas.height) * 0.15;
                ctx.font = `bold ${fontSize}px ${style.font}, cursive`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                const text = 'Bom dia';
                const x = canvas.width / 2;
                
                // Calculate Y position based on style
                let y;
                if (style.position === 'bottom') {
                    y = canvas.height - fontSize * 0.9;
                } else {
                    y = canvas.height / 2;
                }

                // Draw text shadow (multiple layers for glow effect)
                ctx.shadowColor = 'rgba(0, 0, 0, 0.8)';
                ctx.shadowBlur = 20;
                ctx.shadowOffsetX = 4;
                ctx.shadowOffsetY = 4;

                // Draw outline
                ctx.strokeStyle = colors.outline;
                ctx.lineWidth = fontSize * 0.08;
                ctx.strokeText(text, x, y);

                // Draw main text with gradient
                const textGradient = ctx.createLinearGradient(
                    x - fontSize * 2, y - fontSize / 2,
                    x + fontSize * 2, y + fontSize / 2
                );
                textGradient.addColorStop(0, colors.gradient[0]);
                textGradient.addColorStop(0.5, colors.gradient[1]);
                textGradient.addColorStop(1, colors.gradient[2]);
                
                ctx.fillStyle = textGradient;
                ctx.shadowBlur = 15;
                ctx.shadowColor = colors.shadow;
                ctx.fillText(text, x, y);

                // Reset shadow
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;

                console.log(`Style used: ${style.name} (${style.position})`);

                // Show the result
                document.getElementById('imageContainer').classList.add('visible');
                document.getElementById('copyBtn').classList.remove('copied');
                document.getElementById('copyBtn').innerHTML = 'üìã Copy Image';

                showToast('üåÖ Image generated successfully!');

            } catch (error) {
                console.error('Error generating image:', error);
                showError('Oops! Failed to generate image. Please try again.');
            } finally {
                setLoading(false);
            }
        }

        async function copyImage() {
            const canvas = document.getElementById('resultCanvas');
            const copyBtn = document.getElementById('copyBtn');

            try {
                // Convert canvas to blob
                const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));
                
                // Use Clipboard API to copy image
                await navigator.clipboard.write([
                    new ClipboardItem({ 'image/png': blob })
                ]);

                // Update button state
                copyBtn.classList.add('copied');
                copyBtn.innerHTML = '‚úÖ Copied!';
                
                showToast('üìã Image copied! Paste it in Slack');

                // Reset button after 3 seconds
                setTimeout(() => {
                    copyBtn.classList.remove('copied');
                    copyBtn.innerHTML = 'üìã Copy Image';
                }, 3000);

            } catch (error) {
                console.error('Error copying image:', error);
                
                // Fallback: try to download the image instead
                try {
                    const link = document.createElement('a');
                    link.download = 'bom-dia.png';
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                    showToast('üì• Image downloaded (copy not supported in this browser)');
                } catch (downloadError) {
                    showToast('‚ùå Could not copy image. Try right-click ‚Üí Copy Image');
                }
            }
        }

        // Generate an image on page load for immediate gratification
        window.addEventListener('load', () => {
            // Small delay to let fonts load
            setTimeout(generateImage, 500);
        });
    </script>
</body>
</html>

