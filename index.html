<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bom Dia Generator ‚òÄÔ∏è</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sunrise-gold: #FFB347;
            --warm-orange: #FF8C42;
            --soft-coral: #FF6B6B;
            --sky-blue: #87CEEB;
            --morning-pink: #FFB5C5;
            --cream: #FFF8E7;
            --deep-brown: #5D4037;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, 
                var(--morning-pink) 0%, 
                var(--sunrise-gold) 25%, 
                var(--warm-orange) 50%, 
                var(--sky-blue) 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 3.5rem;
            color: var(--cream);
            text-shadow: 3px 3px 6px rgba(93, 64, 55, 0.4);
            margin-bottom: 0.5rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--deep-brown);
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .sun-icon {
            font-size: 4rem;
            animation: spin 20s linear infinite, pulse 2s ease-in-out infinite;
            display: inline-block;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .generate-btn {
            background: linear-gradient(135deg, var(--warm-orange), var(--soft-coral));
            border: none;
            padding: 1rem 3rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            font-family: 'Nunito', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .generate-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .generate-btn:hover::before {
            left: 100%;
        }

        .generate-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.5);
        }

        .generate-btn:active {
            transform: translateY(0) scale(0.98);
        }

        .generate-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .image-container {
            margin-top: 2rem;
            background: white;
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 20px 60px rgba(93, 64, 55, 0.2);
            display: none;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .image-container.visible {
            display: block;
        }

        #resultCanvas {
            max-width: 100%;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .copy-btn {
            margin-top: 1.5rem;
            background: linear-gradient(135deg, var(--sky-blue), #5BA3C6);
            border: none;
            padding: 0.8rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(91, 163, 198, 0.4);
            font-family: 'Nunito', sans-serif;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(91, 163, 198, 0.5);
        }

        .copy-btn.copied {
            background: linear-gradient(135deg, #4CAF50, #45a049);
        }

        .loading {
            display: none;
            margin-top: 2rem;
        }

        .loading.visible {
            display: block;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid var(--cream);
            border-top: 5px solid var(--warm-orange);
            border-radius: 50%;
            animation: spinLoader 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spinLoader {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--deep-brown);
            font-weight: 600;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: none;
        }

        .error-message.visible {
            display: block;
        }

        .credits {
            margin-top: 2rem;
            font-size: 0.85rem;
            color: var(--deep-brown);
            opacity: 0.7;
        }

        .credits a {
            color: var(--deep-brown);
        }

        .footer {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(93, 64, 55, 0.2);
            font-size: 0.9rem;
            color: var(--deep-brown);
            font-weight: 600;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--deep-brown);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sun-icon">‚òÄÔ∏è</div>
        <h1>Bom Dia!</h1>
        <p class="subtitle">Generate beautiful morning greetings to share with friends</p>
        
        <button class="generate-btn" id="generateBtn" onclick="generateImage()">
            ‚ú® Generate Image
        </button>

        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p class="loading-text">Finding the perfect sunrise...</p>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="image-container" id="imageContainer">
            <canvas id="resultCanvas"></canvas>
            <br>
            <button class="copy-btn" id="copyBtn" onclick="copyImage()">
                üìã Copy Image
            </button>
        </div>

        <p class="credits">
            Images from <a href="https://picsum.photos" target="_blank">Lorem Picsum</a>
        </p>

        <footer class="footer">
            ¬© 2025. Created with Cursor AI, for all the positive team.blue people.
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // PRIORITY: Animals, positivity, fun images (appear 3x more often)
        const priorityImageIds = [
            // === CUTE ANIMALS ===
            // Dogs - everyone's best friend!
            237,  // Happy dog portrait
            219,  // Dog in nature
            200,  // Friendly dog
            169,  // Cute dog
            1025, // Adorable pug
            1062, // Playful dog
            40,   // Dog on beach
            177,  // Sweet dog
            783,  // Happy pup
            837,  // Dog smiling
            1024, // Cute puppy
            1053, // Fluffy dog
            1061, // Dog portrait
            1069, // Joyful dog
            
            // Cats - internet favorites
            1074, // Cute cat
            1084, // Cat portrait
            1039, // Sleepy cat
            1047, // Curious cat
            
            // Other cute animals
            433,  // Deer in nature
            582,  // Colorful bird
            593,  // Beautiful butterfly
            659,  // Majestic horse
            1003, // Owl
            1020, // Fox
            1033, // Squirrel
            1037, // Bunny rabbit
            1055, // Sheep
            1059, // Llama/Alpaca
            1060, // Duck
            1067, // Goat
            1070, // Parrot
            1076, // Seagull
            1078, // Peacock
            1081, // Flamingo
            
            // === FUN & COLORFUL ===
            225,  // Balloons celebration
            318,  // Colorful abstract
            326,  // Fun bright colors
            370,  // Celebration vibes
            399,  // Happy colors
            403,  // Bright positive
            452,  // Fun scene
            532,  // Cheerful colors
            564,  // Bright happy
            755,  // Fun moment
            866,  // Cheerful scene
            1041, // Colorful umbrellas
            1043, // Bright lights
            1049, // Neon signs
            1051, // Colorful wall
            1057, // Rainbow colors
            1065, // Confetti
            1071, // Party lights
            1073, // Fireworks
            1077, // Carnival
            1079, // Festival
            1082, // Disco ball
            1085, // Sparklers
            
            // === FOOD & DRINKS (Yummy!) ===
            22,   // Coffee fun
            68,   // Morning coffee
            292,  // Delicious food
            312,  // Fresh fruits
            425,  // Tasty breakfast
            429,  // Pancakes
            431,  // Ice cream
            436,  // Donuts
            438,  // Cupcakes
            441,  // Pizza
            445,  // Burger
            447,  // Smoothie
            455,  // Croissant
            459,  // Waffles
            462,  // Macarons
            466,  // Sushi
            475,  // Tacos
            488,  // Chocolate
            493,  // Cookies
            502,  // Fruit bowl
            
            // === HAPPY PEOPLE & LIFESTYLE ===
            500,  // Positive vibes
            609,  // Fun outdoor
            658,  // Joyful moment
            688,  // Happy scene
            719,  // Positive energy
            901,  // Happy vibes
            984,  // Positive life
            64,   // Friends laughing
            334,  // Beach fun
            342,  // Adventure
            349,  // Travel joy
            357,  // Outdoor fun
            366,  // Friendship
            378,  // Happy moments
            385,  // Celebration
            392,  // Good times
            406,  // Joy
            
            // === CUTE & COZY ===
            15,   // Cozy coffee
            225,  // Warm vibes
            260,  // Cozy blanket
            270,  // Reading nook
            280,  // Candles
            290,  // Fairy lights
            301,  // Cozy room
            310,  // Warm drink
            320,  // Comfort
            330,  // Hygge vibes
            
            // === NATURE POSITIVITY ===
            54,   // Beautiful flowers
            65,   // Lavender field
            90,   // Autumn colors
            106,  // Sunrise hope
            152,  // Sunset beauty
            164,  // Flower garden
            182,  // Spring blooms
            190,  // Tropical paradise
            197,  // Golden hour
            204,  // Cherry blossoms
            211,  // Sunflowers
            218,  // Tulips
            226,  // Daisies
            233,  // Roses
            240,  // Wildflowers
        ];

        // Secondary: Nature, landscapes, morning vibes
        const secondaryImageIds = [
            15,   // Coffee on wooden table
            16,   // Beach waves
            18,   // Forest path
            20,   // Beach sunset
            27,   // Sea waves
            28,   // Mountain lake
            29,   // Forest
            36,   // Beach
            39,   // Sunset landscape
            47,   // Wheat field
            48,   // Mountain
            49,   // Sunset
            54,   // Flowers
            56,   // Beach rocks
            58,   // Nature path
            59,   // Foggy forest
            65,   // Lavender field
            66,   // Mountain road
            69,   // Mountain lake
            73,   // Green nature
            76,   // Sunset sky
            82,   // Beach sunset
            84,   // Foggy mountains
            89,   // Mountain peaks
            90,   // Autumn leaves
            91,   // Ocean waves
            96,   // Sunrise clouds
            100,  // Mountains
            103,  // Sunset beach
            106,  // Sunrise
            110,  // Forest
            114,  // Mountain landscape
            118,  // Green hills
            119,  // Tropical beach
            129,  // Autumn forest
            135,  // Waterfall
            136,  // Beach sunset
            142,  // Mountain lake
            152,  // Sunset colors
            155,  // Nature green
            158,  // Mountain
            164,  // Flowers
            165,  // Beach
            167,  // Forest path
            168,  // Sunset
            173,  // Green nature
            178,  // Mountain
            180,  // Sunset
            182,  // Flowers
            184,  // Landscape
            185,  // Ocean
            186,  // Forest
            190,  // Beach
            193,  // Mountain
            195,  // Nature
            197,  // Sunset
        ];

        // Combined list with priority images appearing 3x more often
        const beautifulImageIds = [
            ...priorityImageIds,
            ...priorityImageIds,
            ...priorityImageIds,
            ...secondaryImageIds
        ];

        // Text style configurations with more variety
        const textStyles = [
            // === PACIFICO STYLES (Script/Cursive) ===
            {
                name: 'Golden Sunrise',
                position: 'center',
                font: 'Pacifico',
                effect: 'glow',
                getColors: () => ({
                    gradient: ['#FFD700', '#FFF8DC', '#FFD700'],
                    shadow: 'rgba(255, 215, 0, 0.5)',
                    outline: 'rgba(0, 0, 0, 0.5)'
                })
            },
            {
                name: 'Ocean Blue',
                position: 'bottom',
                font: 'Pacifico',
                effect: 'glow',
                getColors: () => ({
                    gradient: ['#00CED1', '#E0FFFF', '#00CED1'],
                    shadow: 'rgba(0, 206, 209, 0.6)',
                    outline: 'rgba(0, 50, 80, 0.6)'
                })
            },
            {
                name: 'Rose Pink',
                position: 'center',
                font: 'Pacifico',
                effect: 'glow',
                getColors: () => ({
                    gradient: ['#FF69B4', '#FFB6C1', '#FF69B4'],
                    shadow: 'rgba(255, 105, 180, 0.5)',
                    outline: 'rgba(80, 20, 50, 0.5)'
                })
            },
            {
                name: 'Pure White',
                position: 'bottom',
                font: 'Pacifico',
                effect: 'shadow',
                getColors: () => ({
                    gradient: ['#FFFFFF', '#F0F0F0', '#FFFFFF'],
                    shadow: 'rgba(0, 0, 0, 0.9)',
                    outline: 'rgba(0, 0, 0, 0.7)'
                })
            },
            {
                name: 'Sunset Orange',
                position: 'center',
                font: 'Pacifico',
                effect: 'glow',
                getColors: () => ({
                    gradient: ['#FF6347', '#FFA07A', '#FF6347'],
                    shadow: 'rgba(255, 99, 71, 0.6)',
                    outline: 'rgba(50, 20, 10, 0.6)'
                })
            },
            
            // === NUNITO STYLES (Modern Sans-Serif) ===
            {
                name: 'Mint Fresh',
                position: 'bottom',
                font: 'Nunito',
                effect: 'solid',
                getColors: () => ({
                    gradient: ['#98FB98', '#F0FFF0', '#98FB98'],
                    shadow: 'rgba(152, 251, 152, 0.6)',
                    outline: 'rgba(20, 60, 20, 0.6)'
                })
            },
            {
                name: 'Royal Purple',
                position: 'center',
                font: 'Nunito',
                effect: 'glow',
                getColors: () => ({
                    gradient: ['#9370DB', '#E6E6FA', '#9370DB'],
                    shadow: 'rgba(147, 112, 219, 0.6)',
                    outline: 'rgba(40, 20, 60, 0.6)'
                })
            },
            {
                name: 'Warm Coral',
                position: 'bottom',
                font: 'Nunito',
                effect: 'shadow',
                getColors: () => ({
                    gradient: ['#FF7F50', '#FFDAB9', '#FF7F50'],
                    shadow: 'rgba(0, 0, 0, 0.8)',
                    outline: 'rgba(60, 30, 20, 0.6)'
                })
            },
            {
                name: 'Sky Cyan',
                position: 'center',
                font: 'Nunito',
                effect: 'solid',
                getColors: () => ({
                    gradient: ['#87CEEB', '#F0FFFF', '#87CEEB'],
                    shadow: 'rgba(135, 206, 235, 0.6)',
                    outline: 'rgba(20, 40, 60, 0.6)'
                })
            },
            {
                name: 'Lemon Yellow',
                position: 'bottom',
                font: 'Nunito',
                effect: 'glow',
                getColors: () => ({
                    gradient: ['#FFFF00', '#FFFACD', '#FFFF00'],
                    shadow: 'rgba(255, 255, 0, 0.6)',
                    outline: 'rgba(60, 60, 0, 0.7)'
                })
            },
            
            // === GEORGIA STYLES (Classic Serif) ===
            {
                name: 'Classic Gold',
                position: 'center',
                font: 'Georgia',
                effect: 'emboss',
                getColors: () => ({
                    gradient: ['#DAA520', '#FFD700', '#DAA520'],
                    shadow: 'rgba(0, 0, 0, 0.8)',
                    outline: 'rgba(139, 90, 0, 0.8)'
                })
            },
            {
                name: 'Elegant Cream',
                position: 'bottom',
                font: 'Georgia',
                effect: 'shadow',
                getColors: () => ({
                    gradient: ['#FFFDD0', '#FFF8DC', '#FFFDD0'],
                    shadow: 'rgba(0, 0, 0, 0.9)',
                    outline: 'rgba(80, 60, 20, 0.7)'
                })
            },
            {
                name: 'Vintage Rose',
                position: 'center',
                font: 'Georgia',
                effect: 'emboss',
                getColors: () => ({
                    gradient: ['#BC8F8F', '#FFE4E1', '#BC8F8F'],
                    shadow: 'rgba(0, 0, 0, 0.7)',
                    outline: 'rgba(60, 30, 30, 0.6)'
                })
            },
            
            // === IMPACT STYLES (Bold/Meme Style) ===
            {
                name: 'Meme White',
                position: 'top',
                font: 'Impact',
                effect: 'outline',
                getColors: () => ({
                    gradient: ['#FFFFFF', '#FFFFFF', '#FFFFFF'],
                    shadow: 'rgba(0, 0, 0, 1)',
                    outline: 'rgba(0, 0, 0, 1)'
                })
            },
            {
                name: 'Neon Green',
                position: 'bottom',
                font: 'Impact',
                effect: 'neon',
                getColors: () => ({
                    gradient: ['#39FF14', '#7FFF00', '#39FF14'],
                    shadow: 'rgba(57, 255, 20, 0.8)',
                    outline: 'rgba(0, 50, 0, 0.9)'
                })
            },
            {
                name: 'Neon Pink',
                position: 'center',
                font: 'Impact',
                effect: 'neon',
                getColors: () => ({
                    gradient: ['#FF1493', '#FF69B4', '#FF1493'],
                    shadow: 'rgba(255, 20, 147, 0.8)',
                    outline: 'rgba(50, 0, 30, 0.9)'
                })
            },
            {
                name: 'Electric Blue',
                position: 'top',
                font: 'Impact',
                effect: 'neon',
                getColors: () => ({
                    gradient: ['#00BFFF', '#87CEFA', '#00BFFF'],
                    shadow: 'rgba(0, 191, 255, 0.8)',
                    outline: 'rgba(0, 20, 50, 0.9)'
                })
            },
            
            // === CURSIVE STYLES (Brush Script) ===
            {
                name: 'Brush Gold',
                position: 'center',
                font: 'Brush Script MT, cursive',
                effect: 'glow',
                getColors: () => ({
                    gradient: ['#FFD700', '#FFEC8B', '#FFD700'],
                    shadow: 'rgba(255, 215, 0, 0.7)',
                    outline: 'rgba(0, 0, 0, 0.4)'
                })
            },
            {
                name: 'Brush White',
                position: 'bottom',
                font: 'Brush Script MT, cursive',
                effect: 'shadow',
                getColors: () => ({
                    gradient: ['#FFFFFF', '#F5F5F5', '#FFFFFF'],
                    shadow: 'rgba(0, 0, 0, 0.9)',
                    outline: 'rgba(0, 0, 0, 0.6)'
                })
            },
            
            // === SPECIAL EFFECTS ===
            {
                name: 'Rainbow',
                position: 'center',
                font: 'Pacifico',
                effect: 'rainbow',
                getColors: () => ({
                    gradient: ['#FF0000', '#FF7F00', '#FFFF00', '#00FF00', '#0000FF', '#8B00FF'],
                    shadow: 'rgba(255, 255, 255, 0.5)',
                    outline: 'rgba(0, 0, 0, 0.6)'
                })
            },
            {
                name: 'Fire',
                position: 'bottom',
                font: 'Impact',
                effect: 'fire',
                getColors: () => ({
                    gradient: ['#FF0000', '#FF4500', '#FFD700'],
                    shadow: 'rgba(255, 69, 0, 0.8)',
                    outline: 'rgba(139, 0, 0, 0.8)'
                })
            },
            {
                name: 'Ice',
                position: 'center',
                font: 'Georgia',
                effect: 'ice',
                getColors: () => ({
                    gradient: ['#E0FFFF', '#B0E0E6', '#ADD8E6'],
                    shadow: 'rgba(173, 216, 230, 0.8)',
                    outline: 'rgba(70, 130, 180, 0.7)'
                })
            },
            {
                name: 'Retro',
                position: 'top',
                font: 'Courier New',
                effect: 'retro',
                getColors: () => ({
                    gradient: ['#FF6B6B', '#FFA07A', '#FF6B6B'],
                    shadow: 'rgba(0, 0, 0, 0.9)',
                    outline: 'rgba(0, 0, 0, 0.8)'
                })
            },
            {
                name: 'Metallic Silver',
                position: 'center',
                font: 'Georgia',
                effect: 'metallic',
                getColors: () => ({
                    gradient: ['#C0C0C0', '#FFFFFF', '#A9A9A9', '#FFFFFF', '#C0C0C0'],
                    shadow: 'rgba(0, 0, 0, 0.7)',
                    outline: 'rgba(50, 50, 50, 0.8)'
                })
            },
            {
                name: 'Metallic Bronze',
                position: 'bottom',
                font: 'Georgia',
                effect: 'metallic',
                getColors: () => ({
                    gradient: ['#CD7F32', '#FFD700', '#CD7F32', '#8B4513'],
                    shadow: 'rgba(0, 0, 0, 0.8)',
                    outline: 'rgba(60, 30, 10, 0.8)'
                })
            }
        ];

        function getRandomStyle() {
            return textStyles[Math.floor(Math.random() * textStyles.length)];
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('visible');
            setTimeout(() => toast.classList.remove('visible'), 3000);
        }

        function setLoading(isLoading) {
            const btn = document.getElementById('generateBtn');
            const loading = document.getElementById('loading');
            const imageContainer = document.getElementById('imageContainer');
            const errorMessage = document.getElementById('errorMessage');

            btn.disabled = isLoading;
            btn.textContent = isLoading ? '‚è≥ Generating...' : '‚ú® Generate Image';
            loading.classList.toggle('visible', isLoading);
            
            if (isLoading) {
                imageContainer.classList.remove('visible');
                errorMessage.classList.remove('visible');
            }
        }

        function showError(message) {
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.textContent = message;
            errorMessage.classList.add('visible');
        }

        async function generateImage() {
            setLoading(true);

            try {
                // Pick a random image ID from our curated list
                const imageId = beautifulImageIds[Math.floor(Math.random() * beautifulImageIds.length)];
                
                // Use Picsum Photos - reliable, free, CORS-enabled
                const imageUrl = `https://picsum.photos/id/${imageId}/800/600`;

                // Load the image
                const img = new Image();
                img.crossOrigin = 'anonymous';
                
                await new Promise((resolve, reject) => {
                    img.onload = resolve;
                    img.onerror = () => reject(new Error('Failed to load image'));
                    img.src = imageUrl;
                });

                // Create canvas and draw image with text
                const canvas = document.getElementById('resultCanvas');
                const ctx = canvas.getContext('2d');

                // Set canvas size to match image
                canvas.width = img.width;
                canvas.height = img.height;

                // Draw the image
                ctx.drawImage(img, 0, 0);

                // Get random text style
                const style = getRandomStyle();
                const colors = style.getColors();

                // Add gradient overlay based on text position
                const overlayGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                if (style.position === 'bottom') {
                    overlayGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(0.5, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(0.8, 'rgba(0, 0, 0, 0.2)');
                    overlayGradient.addColorStop(1, 'rgba(0, 0, 0, 0.5)');
                } else if (style.position === 'top') {
                    overlayGradient.addColorStop(0, 'rgba(0, 0, 0, 0.5)');
                    overlayGradient.addColorStop(0.2, 'rgba(0, 0, 0, 0.2)');
                    overlayGradient.addColorStop(0.5, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
                } else {
                    overlayGradient.addColorStop(0, 'rgba(0, 0, 0, 0.1)');
                    overlayGradient.addColorStop(0.4, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(0.6, 'rgba(0, 0, 0, 0)');
                    overlayGradient.addColorStop(1, 'rgba(0, 0, 0, 0.2)');
                }
                ctx.fillStyle = overlayGradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Configure text style
                const fontSize = Math.min(canvas.width, canvas.height) * 0.15;
                ctx.font = `bold ${fontSize}px ${style.font}, sans-serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                const text = 'Bom dia';
                const x = canvas.width / 2;
                
                // Calculate Y position based on style
                let y;
                if (style.position === 'bottom') {
                    y = canvas.height - fontSize * 0.9;
                } else if (style.position === 'top') {
                    y = fontSize * 0.9;
                } else {
                    y = canvas.height / 2;
                }

                // Apply different effects based on style
                const effect = style.effect || 'glow';
                
                // Reset all shadow settings first
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;

                switch (effect) {
                    case 'neon':
                        // Multiple glow layers for neon effect
                        ctx.shadowColor = colors.shadow;
                        ctx.shadowBlur = 30;
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.1;
                        ctx.strokeText(text, x, y);
                        ctx.shadowBlur = 20;
                        ctx.strokeText(text, x, y);
                        ctx.shadowBlur = 10;
                        ctx.fillStyle = colors.gradient[0];
                        ctx.fillText(text, x, y);
                        break;

                    case 'outline':
                        // Heavy outline style (meme style)
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.15;
                        ctx.strokeText(text, x, y);
                        ctx.fillStyle = colors.gradient[0];
                        ctx.fillText(text, x, y);
                        break;

                    case 'emboss':
                        // Embossed/3D effect
                        ctx.fillStyle = 'rgba(0,0,0,0.5)';
                        ctx.fillText(text, x + 4, y + 4);
                        ctx.fillStyle = 'rgba(255,255,255,0.3)';
                        ctx.fillText(text, x - 2, y - 2);
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.04;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'shadow':
                        // Strong drop shadow
                        ctx.shadowColor = colors.shadow;
                        ctx.shadowBlur = 8;
                        ctx.shadowOffsetX = 6;
                        ctx.shadowOffsetY = 6;
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.06;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'solid':
                        // Clean solid with thin outline
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.05;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'rainbow':
                        // Rainbow gradient across text
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.08;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'fire':
                        // Fire effect with upward gradient
                        ctx.shadowColor = 'rgba(255, 100, 0, 0.8)';
                        ctx.shadowBlur = 25;
                        ctx.shadowOffsetY = -5;
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.08;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'ice':
                        // Ice/frost effect
                        ctx.shadowColor = colors.shadow;
                        ctx.shadowBlur = 15;
                        ctx.strokeStyle = 'rgba(255,255,255,0.8)';
                        ctx.lineWidth = fontSize * 0.1;
                        ctx.strokeText(text, x, y);
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.04;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'retro':
                        // Retro offset shadow
                        ctx.fillStyle = colors.shadow;
                        ctx.fillText(text, x + 5, y + 5);
                        ctx.fillStyle = 'rgba(0,0,0,0.5)';
                        ctx.fillText(text, x + 3, y + 3);
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.06;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'metallic':
                        // Metallic shine effect
                        ctx.shadowColor = 'rgba(0,0,0,0.8)';
                        ctx.shadowBlur = 10;
                        ctx.shadowOffsetX = 3;
                        ctx.shadowOffsetY = 3;
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.06;
                        ctx.strokeText(text, x, y);
                        break;

                    case 'glow':
                    default:
                        // Default glow effect
                        ctx.shadowColor = 'rgba(0, 0, 0, 0.8)';
                        ctx.shadowBlur = 20;
                        ctx.shadowOffsetX = 4;
                        ctx.shadowOffsetY = 4;
                        ctx.strokeStyle = colors.outline;
                        ctx.lineWidth = fontSize * 0.08;
                        ctx.strokeText(text, x, y);
                        break;
                }

                // Draw main text with gradient
                const textGradient = ctx.createLinearGradient(
                    x - fontSize * 2, y - fontSize / 2,
                    x + fontSize * 2, y + fontSize / 2
                );
                
                // Handle different gradient lengths
                if (colors.gradient.length === 6) {
                    // Rainbow
                    colors.gradient.forEach((color, i) => {
                        textGradient.addColorStop(i / (colors.gradient.length - 1), color);
                    });
                } else if (colors.gradient.length === 5) {
                    // Metallic
                    colors.gradient.forEach((color, i) => {
                        textGradient.addColorStop(i / (colors.gradient.length - 1), color);
                    });
                } else if (colors.gradient.length === 4) {
                    textGradient.addColorStop(0, colors.gradient[0]);
                    textGradient.addColorStop(0.33, colors.gradient[1]);
                    textGradient.addColorStop(0.66, colors.gradient[2]);
                    textGradient.addColorStop(1, colors.gradient[3]);
                } else {
                    textGradient.addColorStop(0, colors.gradient[0]);
                    textGradient.addColorStop(0.5, colors.gradient[1]);
                    textGradient.addColorStop(1, colors.gradient[2]);
                }
                
                ctx.fillStyle = textGradient;
                
                // Add final glow for certain effects
                if (['glow', 'neon', 'fire', 'ice'].includes(effect)) {
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = colors.shadow;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;
                }
                
                ctx.fillText(text, x, y);

                // Reset shadow
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;

                console.log(`Style: ${style.name} | Position: ${style.position} | Effect: ${effect}`);

                // Show the result
                document.getElementById('imageContainer').classList.add('visible');
                document.getElementById('copyBtn').classList.remove('copied');
                document.getElementById('copyBtn').innerHTML = 'üìã Copy Image';

                showToast('üåÖ Image generated successfully!');

            } catch (error) {
                console.error('Error generating image:', error);
                showError('Oops! Failed to generate image. Please try again.');
            } finally {
                setLoading(false);
            }
        }

        async function copyImage() {
            const canvas = document.getElementById('resultCanvas');
            const copyBtn = document.getElementById('copyBtn');

            try {
                // Convert canvas to blob
                const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));
                
                // Use Clipboard API to copy image
                await navigator.clipboard.write([
                    new ClipboardItem({ 'image/png': blob })
                ]);

                // Update button state
                copyBtn.classList.add('copied');
                copyBtn.innerHTML = '‚úÖ Copied!';
                
                showToast('üìã Image copied! Paste it in Slack');

                // Reset button after 3 seconds
                setTimeout(() => {
                    copyBtn.classList.remove('copied');
                    copyBtn.innerHTML = 'üìã Copy Image';
                }, 3000);

            } catch (error) {
                console.error('Error copying image:', error);
                
                // Fallback: try to download the image instead
                try {
                    const link = document.createElement('a');
                    link.download = 'bom-dia.png';
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                    showToast('üì• Image downloaded (copy not supported in this browser)');
                } catch (downloadError) {
                    showToast('‚ùå Could not copy image. Try right-click ‚Üí Copy Image');
                }
            }
        }

        // Generate an image on page load for immediate gratification
        window.addEventListener('load', () => {
            // Small delay to let fonts load
            setTimeout(generateImage, 500);
        });
    </script>
</body>
</html>

